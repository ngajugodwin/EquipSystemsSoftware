<c-col xxl="12">
  <c-card>
    <c-card-header ngPreserveWhitespaces>
      <strong>Checkout Form</strong>
    </c-card-header>
    <c-card-body>
      
      <form cForm class="row g-3"  (ngSubmit)="createOrder()" [formGroup]="checkoutForm" id="checkoutForm">
       
          <c-container formGroupName="bookingForm">
            <c-row>
              <c-col xs="6">
               <c-row>
                <c-col [xs]="12">
                  <h6>Booking Information</h6>                    
                </c-col>
                <c-col [xs]="6">
                  <label cLabel for="inputStartDate">Start Date</label>
                  <input placeholder="Start Date" cFormControl id="inputStartDate" type="date"
                      formControlName="startDate"/>
                </c-col>
                <c-col [xs]="6">
                  <label cLabel for="inputFirstName">End Date</label>
                  <input placeholder="End Date" cFormControl id="inputEndDate" type="date"
                      formControlName="endDate"/>
                </c-col>
               </c-row>

              </c-col>

            </c-row>

          </c-container>
          <c-container formGroupName="addressForm">           
             <c-row>
              <c-col [xs]="6">
                <c-row style="margin-top: 10px;">
                  <c-col [xs]="6">
                    <h6>Shipping address</h6>                    
                  </c-col>
                  <c-col [xs]="6">
                  </c-col>
                  <c-col [xs]="6">
                    <label cLabel for="inputFirstName">First Name</label>
                    <input placeholder="First Name" cFormControl id="inputFirstName" type="text"
                        formControlName="firstName"/>
                  </c-col>
                  <c-col [xs]="6">
                    <label cLabel for="inputLastName">Last Name</label>
                    <input cFormControl id="inputLastName" type="text"
                        formControlName="lastName"/>
                  </c-col>                 
                  <c-col [md]="6">
                    <label cLabel for="inputCity">City</label>
                    <input cFormControl id="inputCity" type="text"
                        formControlName="city"/>
                  </c-col>
                  <c-col [md]="6">
                    <label cLabel for="inputState">State</label>
                    <input cFormControl id="inputState" type="text"
                        formControlName="state"/>
                  </c-col> 
                  <c-col [md]="12">
                    <label cLabel for="inputStreet">Street</label>
                    <input cFormControl id="inputStreet" type="text"
                        formControlName="street"/>
                  </c-col>
                  <c-container>
                    <c-row >
                      <c-col [md]="12" >
                        <label cLabel for="inputStreet">Delivery Method</label>
                        <select formControlName="deliveryMethod" (change)="setTheShippingPrice($event)" aria-label="Default select example" cSelect>
                          <option></option>
                          <option cFormControl *ngFor="let dm of deliveryMethods" [value]="dm.id">{{dm.shortName}} | {{dm.description}} | {{dm.price | currency: 'GBP'}}</option>                    
                        </select>
                      </c-col>
                    </c-row>
                  </c-container>
                  <c-col [md]="12">
                    <button type="button" (click)="onReviewBasket()" style="margin-top: 10px; width: inherit;" class="btn btn-primary">Review Basket Contents</button>
                  </c-col>
                </c-row>
              </c-col>
              <c-col>
                <app-order-totals></app-order-totals>
              </c-col>

             </c-row>
          </c-container>
      </form>
    </c-card-body>
    <c-card-footer>
          <div class="center-action-button">
            <button [disabled]="!hasBasket || !this.checkoutForm.get('bookingForm')?.valid" (click)="createPaymentIntent()" style="margin-right: 10px;" type="button" form="checkoutForm" class="btn btn-sm btn-primary mr-2"><i class="fa fa-dot-circle-o"></i> >> PAY >></button>
            <button type="reset" (click)="cancel()" class="btn btn-sm btn-danger"><i class="fa fa-ban"></i> >> Shop >> </button>
          </div>
    </c-card-footer>
  </c-card>
</c-col>

<!-- 
 -->